## this mapping is for testing the new transform design
## here the top level is the function and the next level are the param(s)
## functions commented out are used for other possibilities

#some variables you'll want to replace across the entire data table


# replace:
#   to_replace:
#     true: 'Yes'
#     false: 'No'

# replace_all_values:
#   from_value_to_value:
#     true: 'Yes'
#     false: 'No'
    

#some specific columns will be needed to change. 
#For example some column names are different across hubs and need to conform to the JDC name
# or some values are different or more restricted within the JDC so these values will need to be replaced 
#with the JDC values

# insert:
#   loc: 0
#   column: protocol
#   value: main

replace_ids:
  id_file: C:\Users\kranz-michael\projects\rcg-bsd-gitlab\jcoin-maarc\jdc-utilities\data_mgmt\id_store\submitter_ids.txt
  map_file: C:\Users\kranz-michael\projects\rcg-bsd-gitlab\jcoin-maarc\jdc-utilities\data_mgmt\id_store\local_to_jdc_ids.csv
  map_url: C:\Users\kranz-michael\projects\rcg-bsd-gitlab\jcoin-maarc\hubs\general\repos\test-secrets.git


add_columns_of_constants:
  column_name_and_value:
    protocols.submitter_id: main
    role_in_project: Client

rename_columns:
  from_name_to_name:
    d4b: gender
    d2: hispanic
    #record_id: submitter_id


replace_column_values:
  within_column_from_value_to_value:
    hispanic:
      0: 'Yes'
      1: 'No'
      null: 'Not reported'
    gender:
      null: 'Not reported'
  
to_quarter:
  from_date_name_to_quarter_name:
    date_recruited: quarter_recruited

#finally some columns require combining (ie collapsing). 
collapse_checkall:
  resulting_column_name: race
  columns_to_labels:
    'd3___1': 'White'
    'd3___2': 'Black or African American'
    'd3___3': 'American Indian or Alaska Native (SPECIFY principal tribe or community)'
    'd3___4': 'Asian'
    'd3___5': 'Native Hawaiian or Other Pacific Islander'
    'd3___6': 'Some other race (SPECIFY)'
  multi_checked: 'Some other race (SPECIFY)'
  none_checked: 'Not reported'
  fillna: 'Not reported'


















